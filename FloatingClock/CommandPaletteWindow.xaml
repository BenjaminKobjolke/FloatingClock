<Window x:Class="FloatingClock.CommandPaletteWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Commands"
        Width="400"
        Height="Auto"
        SizeToContent="Height"
        WindowStyle="None"
        AllowsTransparency="True"
        Background="Transparent"
        Topmost="True"
        ShowInTaskbar="False"
        ResizeMode="NoResize"
        KeyDown="CommandPaletteWindow_KeyDown"
        Loaded="CommandPaletteWindow_Loaded">

    <Border x:Name="PaletteBorder"
            Background="#CC000000"
            BorderBrush="#40FFFFFF"
            BorderThickness="1"
            CornerRadius="5"
            Padding="10">
        <StackPanel>
            <TextBlock x:Name="TitleText"
                       Text="Commands"
                       Foreground="#FFFFFF"
                       FontSize="16"
                       FontWeight="Bold"
                       Margin="0,0,0,10"
                       HorizontalAlignment="Center"/>

            <ListBox x:Name="CommandListBox"
                     Background="Transparent"
                     BorderThickness="0"
                     Foreground="#FFFFFF"
                     FontFamily="Consolas"
                     FontSize="14"
                     ScrollViewer.HorizontalScrollBarVisibility="Disabled"
                     ScrollViewer.VerticalScrollBarVisibility="Auto"
                     MaxHeight="400"
                     SelectionChanged="CommandListBox_SelectionChanged">

                <ListBox.ItemContainerStyle>
                    <Style TargetType="ListBoxItem">
                        <Setter Property="Padding" Value="5"/>
                        <Setter Property="Background" Value="Transparent"/>
                        <Setter Property="Foreground" Value="#FFFFFF"/>
                        <Setter Property="Template">
                            <Setter.Value>
                                <ControlTemplate TargetType="ListBoxItem">
                                    <Border x:Name="ItemBorder"
                                            Background="{TemplateBinding Background}"
                                            Padding="{TemplateBinding Padding}"
                                            CornerRadius="3">
                                        <ContentPresenter/>
                                    </Border>
                                    <ControlTemplate.Triggers>
                                        <Trigger Property="IsSelected" Value="True">
                                            <Setter TargetName="ItemBorder" Property="Background" Value="#40FFFFFF"/>
                                        </Trigger>
                                        <Trigger Property="IsMouseOver" Value="True">
                                            <Setter TargetName="ItemBorder" Property="Background" Value="#20FFFFFF"/>
                                        </Trigger>
                                    </ControlTemplate.Triggers>
                                </ControlTemplate>
                            </Setter.Value>
                        </Setter>
                    </Style>
                </ListBox.ItemContainerStyle>

                <ListBox.ItemTemplate>
                    <DataTemplate>
                        <TextBlock Text="{Binding DisplayText}" TextWrapping="NoWrap"/>
                    </DataTemplate>
                </ListBox.ItemTemplate>
            </ListBox>

            <TextBlock x:Name="HintText"
                       Text="↑↓ Navigate  |  Enter Execute  |  Esc Close"
                       Foreground="#80FFFFFF"
                       FontSize="11"
                       Margin="0,10,0,0"
                       HorizontalAlignment="Center"/>
        </StackPanel>
    </Border>
</Window>
